(function(t){function e(e){for(var s,r,n=e[0],c=e[1],l=e[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/car-shop/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"07b2":function(t,e,a){t.exports=a.p+"img/jesse-collins-629527-unsplash.55d7dd87.jpg"},"0a2b":function(t,e,a){t.exports=a.p+"img/baseline-fiber_new-24px.60fe99a4.svg"},"0e9c":function(t,e,a){t.exports=a.p+"img/guillermo-ferla-1197148-unsplash.b16445cb.jpg"},"0ec8":function(t,e,a){"use strict";var s=a("468c"),i=a.n(s);i.a},"113f":function(t,e,a){"use strict";var s=a("37d5"),i=a.n(s);i.a},"25b0":function(t,e,a){},2664:function(t,e,a){"use strict";var s=a("2c2f"),i=a.n(s);i.a},"2b3d":function(t,e,a){},"2c2f":function(t,e,a){},"2d65":function(t,e,a){"use strict";var s=a("bc63"),i=a.n(s);i.a},3309:function(t,e,a){},"37d5":function(t,e,a){},"38cc":function(t,e,a){"use strict";var s=a("2b3d"),i=a.n(s);i.a},"3ad6":function(t,e,a){},"468c":function(t,e,a){},5287:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("2f62"),o=a("bc3a"),r=a.n(o),n=a("a7fe"),c=a.n(n),l=a("7bb1"),d=a("427f"),u=a.n(d),p=a("9062"),m=a.n(p),v=(a("e40d"),a("4989"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("Navbar"),a("router-view"),a("Footer")],1)}),f=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("nav",{staticClass:"navbar navbar-expand-lg"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[s("h1",{attrs:{href:"#"}},[t._v("Car Shopping")])]),s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-item nav-link text-center",attrs:{to:"/products"}},[s("img",{attrs:{src:a("baf8"),width:"56px",height:"56px"}}),s("span",[t._v("首頁")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-item nav-link text-center",attrs:{to:"/news"}},[s("img",{attrs:{src:a("0a2b"),width:"56px",height:"56px"}}),s("span",[t._v("最新消息")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-item nav-link text-center",attrs:{to:"/shoppingcart"}},[s("img",{attrs:{src:a("8db5"),width:"56px",height:"56px"}}),s("span",[t._v("購物車")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-item nav-link text-center",attrs:{to:"/admin/productlist"}},[s("img",{attrs:{src:a("edb1"),width:"56px",height:"56px"}}),s("span",[t._v("管理商品")])])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-item nav-link text-center",attrs:{href:"#"},on:{click:t.logout}},[s("img",{attrs:{src:a("8a49"),width:"56px",height:"56px"}}),s("span",[t._v("登出")])])])])],1)])},_=[],g={methods:{logout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(e).then((function(e){console.log(e.data.message),t.$router.push("/login")}))}}},b=g,C=(a("d7ae"),a("2877")),x=Object(C["a"])(b,h,_,!1,null,"c860d7c2",null),y=x.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"footer text-center"},[a("ul",{staticClass:"socialicon-group"},[a("li",{staticClass:"socialicon-item fa-3x"},[a("i",{staticClass:"fab fa-facebook-square"})]),a("li",{staticClass:"socialicon-item fa-3x"},[a("i",{staticClass:"fab fa-github"})]),a("li",{staticClass:"socialicon-item fa-3x"},[a("i",{staticClass:"fas fa-envelope"})])]),a("div",{staticStyle:{color:"#3f5d45"}},[t._v("©Copright 2018 Neil Yang")])])])}],w=(a("b82e"),{}),N=Object(C["a"])(w,k,$,!1,null,"099ef5b6",null),O=N.exports,E={components:{Navbar:y,Footer:O},computed:{isLoading:function(){return this.$store.state.isLoading}}},A=E,P=(a("5c0b"),Object(C["a"])(A,v,f,!1,null,null,null)),D=P.exports,I=a("8c4f"),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Banner"),a("Sidebar"),a("ShoppingCartIcon")],1)},M=[],T=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container text-center"},[s("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}}),s("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}})]),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("img",{staticClass:"d-block w-100",attrs:{src:a("0e9c"),alt:"First slide"}})]),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:a("d725"),alt:"Second slide"}})]),s("div",{staticClass:"carousel-item"},[s("img",{staticClass:"d-block w-100",attrs:{src:a("5a33"),alt:"Third slide"}})])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])])}],R=(a("71c5"),{}),q=Object(C["a"])(R,T,S,!1,null,"d98db58e",null),G=q.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container text-center"},[a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card card-nav list-group sticky-top"},[a("h2",[t._v("商品類別")]),a("router-link",{staticClass:"sidebar-link",class:{active:""===t.searchText},attrs:{to:"/products"},nativeOn:{click:function(e){return e.preventDefault(),t.filtertext()}}},[a("h3",[t._v("全部商品")])]),a("router-link",{staticClass:"sidebar-link",class:{active:"like"===t.searchText},attrs:{to:"/products/favorite"},nativeOn:{click:function(e){return e.preventDefault(),t.filtertext("like")}}},[a("h3",[t._v("收藏商品")])]),a("h2",[t._v("分類商品")]),t._l(t.categories,(function(e){return a("a",{key:e,staticClass:"sidebar-link",class:{active:t.searchText===e},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.filtertext(e)}}},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"col-md-9"},[a("router-view")],1)])])},U=[],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},t._l(t.filterData,(function(e){return e.is_enabled?a("div",{key:e.id,staticClass:"col-md-6 mb-4"},[a("div",{staticClass:"card"},[t.favoriteproducts.findIndex((function(t){return t.id===e.id}))<0?a("i",{staticClass:"far fa-heart heart",on:{click:function(a){return a.preventDefault(),t.addtolike(e)}}}):a("i",{staticClass:"fas fa-heart heart",on:{click:function(a){return a.preventDefault(),t.dellike(e)}}}),a("a",{staticClass:"pointer",staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.getProductDetail(e.id)}}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-tag float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title text-left"},[a("a",{staticClass:"pointer",on:{click:function(a){return t.getProductDetail(e.id)}}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-content card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"card_price"},[a("h5",{staticClass:"card-origin_price"},[t._v("NT$ "+t._s(e.origin_price))]),a("span",{staticClass:"card-price"},[t._v("NT$ "+t._s(e.price))])])]),a("a",{staticClass:"card-footer",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addtocart(e.id)}}},[t._v("加到購物車")])])]):t._e()})),0),a("Pagination",{on:{updatepage:t.getProducts}})],1)},z=[],B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:{disabled:!t.paginationinfo.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return t.pagechild(t.paginationinfo.current_page-1)}}},[s("img",{attrs:{src:a("d851"),alt:""}})])]),t._l(t.paginationinfo.total_pages,(function(e){return s("li",{key:e,staticClass:"page-item",class:{active:t.paginationinfo.current_page===e}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.pagechild(e)}}},[t._v(t._s(e))])])})),s("li",{staticClass:"page-item",class:{disabled:!t.paginationinfo.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return t.pagechild(t.paginationinfo.current_page+1)}}},[s("img",{attrs:{src:a("bb20"),alt:""}})])])],2)])])},J=[],V={methods:{pagechild:function(t){this.$emit("updatepage",t)}},computed:{paginationinfo:function(){return this.$store.state.pagination}}},H=V,W=(a("5eaf"),a("c383"),Object(C["a"])(H,B,J,!1,null,"78bc2175",null)),X=W.exports,Y={data:function(){return{favoriteproducts:[]}},methods:{getProducts:function(t){this.$store.dispatch("getProducts",t),this.filterproducts=this.$store.state.products},getProductDetail:function(t){this.$router.push("/productdetail/".concat(t))},addtocart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{product_id:t,qty:e})},addtolike:function(t){this.$store.dispatch("addtolike",t)},dellike:function(t){this.$store.dispatch("dellike",t)},getfavoriteproducts:function(){this.favoriteproducts=this.$store.state.favoritelist}},created:function(){this.getProducts(),this.getfavoriteproducts()},computed:{products:function(){return this.$store.state.products},searchText:function(){return this.$store.state.searchText},filterData:function(){var t=this;return t.searchText?t.products.filter((function(e){return e.category.toLowerCase()===t.searchText.toLowerCase()})):this.$store.state.products}},components:{Pagination:X}},K=Y,Q=(a("0ec8"),Object(C["a"])(K,F,z,!1,null,"08f1c5a1",null)),Z=Q.exports,tt={methods:{filtertext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$store.dispatch("searchText",t)}},computed:{categories:function(){return this.$store.state.categories},searchText:function(){return this.$store.state.searchText}},components:{Products:Z}},et=tt,at=(a("113f"),Object(C["a"])(et,j,U,!1,null,"2b95a9e4",null)),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-link",{staticClass:"cart-dropdown",attrs:{to:"/shoppingcart"}},[t.cartquantity.carts&&t.cartquantity.carts.length?a("span",{staticClass:"point"},[t._v(t._s(t.cartquantity.carts.length))]):t._e(),a("span",{staticStyle:{"font-size":"42px"}},[a("i",{staticClass:"fas fa-shopping-cart"})])])],1)},ot=[],rt={methods:{getcarts:function(){this.$store.dispatch("getCarts")}},created:function(){this.getcarts()},computed:{cartquantity:function(){return this.$store.state.cartlist}}},nt=rt,ct=(a("38cc"),Object(C["a"])(nt,it,ot,!1,null,"4b56b1c4",null)),lt=ct.exports,dt={components:{Banner:G,Sidebar:st,ShoppingCartIcon:lt}},ut=dt,pt=Object(C["a"])(ut,L,M,!1,null,null,null),mt=pt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("form",{staticClass:"form-signin"},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please sign in")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"},on:{click:t.login}},[t._v("Sign in")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2017-2018")])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" Remember me\n    ")])}],ht={data:function(){return{user:{username:"des75421@gmail.com",password:"a0940295"}}},methods:{login:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/admin/signin"),a=this;this.$store.dispatch("updateLoading",!0),this.$http.post(e,a.user).then((function(e){console.log(e.data.message),e.data.success?a.$router.push("/admin/productlist"):(a.$router.push("/login"),t.$store.dispatch("updateLoading",!1))}))}}},_t=ht,gt=(a("e528"),Object(C["a"])(_t,vt,ft,!1,null,"7473f1fb",null)),bt=gt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("ShoppingCartIcon")],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v("最新消息")]),s("hr"),s("img",{staticClass:"news-pic",attrs:{src:a("07b2"),alt:""}}),s("p",[t._v("Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur numquam quaerat temporibus? In fugiat et, molestias illo ea dolores quisquam culpa asperiores rem, tempora odio temporibus molestiae labore corporis minima?")]),s("img",{staticClass:"news-pic",attrs:{src:a("f731"),alt:""}}),s("p",[t._v("Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur numquam quaerat temporibus? In fugiat et, molestias illo ea dolores quisquam culpa asperiores rem, tempora odio temporibus molestiae labore corporis minima?")])])}],yt={components:{ShoppingCartIcon:lt}},kt=yt,$t=(a("2664"),Object(C["a"])(kt,Ct,xt,!1,null,"4acf9fb8",null)),wt=$t.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("AdminSidebar"),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[a("router-view")],1)],1)])])},Ot=[],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"d-none d-md-block sidebar"},[a("div",{staticClass:"sidebar-sticky"},[t._m(0),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productlist"}},[a("i",{staticClass:"fas fa-box-open"}),t._v("\n            產品列表\n          ")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orderlist"}},[a("i",{staticClass:"fas fa-list-alt"}),t._v("\n            訂單列表\n          ")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/couponlist"}},[a("i",{staticClass:"fas fa-ticket-alt"}),t._v("\n            優惠券\n          ")])],1)]),t._m(1),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/ordertest"}},[a("i",{staticClass:"fas fa-shopping-cart"}),t._v("\n            交易測試\n          ")])],1)])])])])},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("管理員")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("模擬功能")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])}],Pt=(a("dbdc"),{}),Dt=Object(C["a"])(Pt,Et,At,!1,null,"b6a0643e",null),It=Dt.exports,Lt={components:{AdminSidebar:It}},Mt=Lt,Tt=Object(C["a"])(Mt,Nt,Ot,!1,null,null,null),St=Tt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.openModal("#productModal","product","New",{})}}},[t._v("建立新的產品")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.adminproducts,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.price)))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#productModal","product","Edit",e)}}},[t._v("編輯")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#delProductModal","product","Del",e)}}},[t._v("刪除")])])])})),0)]),a("Pagination",{on:{updatepage:t.getAdminProducts}}),a("Modal")],1)},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("分類")]),a("th",[t._v("產品")]),a("th",[t._v("原價")]),a("th",[t._v("售價")]),a("th",[t._v("是否啟用")]),a("th",[t._v("編輯")]),a("th",[t._v("刪除")])])])}],Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.imageUrl,expression:"tempproduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempproduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("\n                  或 上傳圖片\n                  "),this.$store.state.isfileuploading?a("i",{staticClass:"fas fa-stroopwafel fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+t.tempproduct.imageUrl+")"}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.title,expression:"tempproduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempproduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.category,expression:"tempproduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempproduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.unit,expression:"tempproduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempproduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.origin_price,expression:"tempproduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempproduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.price,expression:"tempproduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempproduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.description,expression:"tempproduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempproduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.content,expression:"tempproduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempproduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempproduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempproduct.is_enabled,expression:"tempproduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.tempproduct.is_enabled)?t._i(t.tempproduct.is_enabled,null)>-1:t.tempproduct.is_enabled},on:{change:function(e){var a=t.tempproduct.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);s.checked?r<0&&t.$set(t.tempproduct,"is_enabled",a.concat([o])):r>-1&&t.$set(t.tempproduct,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempproduct,"is_enabled",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateproducts("#productModal")}}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempproduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.updateproducts("#delProductModal")}}},[t._v("確認刪除")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"OrderDetailModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"100%"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("table",{staticClass:"modal-body table"},[t._m(3),a("tbody",t._l(t.orderdetail.products,(function(e,s,i){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(i+1))]),a("td",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.content))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.final_total))])])})),0)]),t._m(4)])])]),a("div",{staticClass:"modal fade",attrs:{id:"OrderUserDetailModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(5),a("table",{staticClass:"modal-body table"},[a("tbody",[a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.orderdetail.user.name))])]),a("tr",[a("th",[t._v("Email")]),a("td",[t._v(t._s(t.orderdetail.user.email))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.orderdetail.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.orderdetail.user.address))])])])]),t._m(6)])])]),a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(7),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.title,expression:"tempcoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempcoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempcoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"percent"}},[t._v("折扣")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempcoupon.percent,expression:"tempcoupon.percent",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"percent",placeholder:"請輸入折扣"},domProps:{value:t.tempcoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempcoupon,"percent",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"due_date"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.due_date,expression:"tempcoupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.tempcoupon.due_date},on:{input:function(e){e.target.composing||t.$set(t.tempcoupon,"due_date",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"code"}},[t._v("優惠碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempcoupon.code,expression:"tempcoupon.code"}],staticClass:"form-control",attrs:{id:"code",onKeyUp:"value=value.replace(/[\\W]/g,'')",placeholder:"請輸入優惠碼"},domProps:{value:t.tempcoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempcoupon,"code",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempcoupon.is_enabled,expression:"tempcoupon.is_enabled",modifiers:{number:!0}}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempcoupon.is_enabled)?t._i(t.tempcoupon.is_enabled,null)>-1:t._q(t.tempcoupon.is_enabled,1)},on:{change:function(e){var a=t.tempcoupon.is_enabled,s=e.target,i=s.checked?1:0;if(Array.isArray(a)){var o=t._n(null),r=t._i(a,o);s.checked?r<0&&t.$set(t.tempcoupon,"is_enabled",a.concat([o])):r>-1&&t.$set(t.tempcoupon,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempcoupon,"is_enabled",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updatecoupons("#couponModal")}}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delcouponmodal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(8),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempcoupon.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.updatecoupons("#delcouponmodal")}}},[t._v("確認刪除")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"addbannermodal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(9),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempbanner.title,expression:"tempbanner.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempbanner.title},on:{input:function(e){e.target.composing||t.$set(t.tempbanner,"title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempbanner.category,expression:"tempbanner.category"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入分類"},domProps:{value:t.tempbanner.category},on:{input:function(e){e.target.composing||t.$set(t.tempbanner,"category",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.tempbanner.imageUrl,expression:"tempbanner.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",name:"picture",placeholder:"請輸入圖片連結"},domProps:{value:t.tempbanner.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempbanner,"imageUrl",e.target.value)}}}),t.errors.has("picture")?a("span",{staticClass:"text-danger"},[t._v("圖片欄位不得留空")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("\n                  或 上傳圖片\n                  "),this.$store.state.isfileuploading?a("i",{staticClass:"fas fa-stroopwafel fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempbanner.content,expression:"tempbanner.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempbanner.content},on:{input:function(e){e.target.composing||t.$set(t.tempbanner,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempbanner.is_enabled,expression:"tempbanner.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled"},domProps:{checked:Array.isArray(t.tempbanner.is_enabled)?t._i(t.tempbanner.is_enabled,null)>-1:t.tempbanner.is_enabled},on:{change:function(e){var a=t.tempbanner.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);s.checked?r<0&&t.$set(t.tempbanner,"is_enabled",a.concat([o])):r>-1&&t.$set(t.tempbanner,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempbanner,"is_enabled",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t.tempbanner.imageUrl?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addbanners("#addbannermodal")}}},[t._v("確認")]):t._e()])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delbannermodal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(10),a("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempbanner.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.delbanners("#delbannermodal")}}},[t._v("確認刪除")])])])])])])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("訂單信息")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("商品圖片")]),a("th",[t._v("商品名稱")]),a("th",[t._v("商品內容")]),a("th",[t._v("數量")]),a("th",[t._v("總金額")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("購買人信息")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增優惠券")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增廣告")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Ut={methods:{updateproducts:function(t){this.$store.dispatch("updateProducts",t)},uploadFile:function(t){var e=t.target.files[0];this.$store.dispatch("uploadfile",e)},updatecoupons:function(t){this.$store.dispatch("updateCoupons",t)},addbanners:function(t){var e=this;this.$validator.validate().then((function(a){a?e.$store.dispatch("addBanners",t):console.log("加入圖片")}))},delbanners:function(t){this.$store.dispatch("delBanners",t)}},computed:{tempproduct:{get:function(){return this.$store.state.tempproduct}},orderdetail:{get:function(){return this.$store.state.orderdetail}},tempcoupon:{get:function(){return this.$store.state.tempcoupon}},tempbanner:{get:function(){return this.$store.state.tempbanner}}}},Ft=Ut,zt=Object(C["a"])(Ft,Gt,jt,!1,null,null,null),Bt=zt.exports,Jt={methods:{getAdminProducts:function(t){this.$store.dispatch("getAdminProducts",t)},openModal:function(t,e,a,s){this.$store.dispatch("openModal",{modal:t,species:e,status:a,item:s})}},created:function(){this.getAdminProducts()},computed:{adminproducts:function(){return this.$store.state.adminproducts},error:function(){return this.$store.state.errormessage}},watch:{error:function(t){t&&(this.$router.push("/login"),this.$store.dispatch("updateerror",!1))}},components:{Pagination:X,Modal:Bt}},Vt=Jt,Ht=Object(C["a"])(Vt,Rt,qt,!1,null,null,null),Wt=Ht.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.adminorders,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.num))]),a("td",[e.is_paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",[t._v("未付款")])]),a("td",[t._v(t._s(e.total))]),a("td",[a("span",[t._v(t._s(t.date1(e.create_at)))]),a("br"),a("span",[t._v(t._s(t.date2(e.create_at)))])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#OrderDetailModal","order","ReadOnly",e)}}},[t._v("詳細")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#OrderUserDetailModal","order","ReadOnly",e)}}},[t._v("詳細")])])])})),0)]),a("Pagination",{on:{updatepage:t.getAdminOrders}}),a("Modal")],1)},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("訂單編號")]),a("th",[t._v("是否付款")]),a("th",[t._v("總金額")]),a("th",[t._v("建立時間")]),a("th",[t._v("訂單信息")]),a("th",[t._v("購買人信息")])])])}],Kt={methods:{getAdminOrders:function(t){this.$store.dispatch("getAdminOrders",t)},openModal:function(t,e,a,s){this.$store.dispatch("openModal",{modal:t,species:e,status:a,item:s})},date1:function(t){var e=new Date(1e3*t),a=e.getMonth()+1,s=e.getDate(),i=e.getFullYear()+"-",o=a<10?"0"+a+"-":a+"-",r=s<10?"0"+s:s;return i+o+r},date2:function(t){var e=new Date(1e3*t),a=e.getHours(),s=e.getMinutes(),i=e.getSeconds(),o=a<10?"0"+a:a,r=s<10?"0"+s:s,n=i<10?"0"+i:i;return"".concat(o,"-").concat(r,"-").concat(n)}},created:function(){this.getAdminOrders()},computed:{adminorders:function(){return this.$store.state.adminorders}},components:{Pagination:X,Modal:Bt}},Qt=Kt,Zt=Object(C["a"])(Qt,Xt,Yt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.openModal("#couponModal","coupon","New",{})}}},[t._v("建立新的優惠券")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.coupons,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.percent))]),a("td",[t._v(t._s(e.due_date))]),a("td",[1==e.is_enabled?a("span",{staticClass:"text-success"},[t._v("可以")]):a("span",[t._v("不可以")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#couponModal","coupon","Edit",e)}}},[t._v("編輯")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-primary",on:{click:function(a){return t.openModal("#delcouponmodal","coupon","Del",e)}}},[t._v("刪除")])])])})),0)]),a("Pagination",{on:{updatepage:t.getcoupons}}),a("Modal")],1)},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("標題")]),a("th",[t._v("優惠碼")]),a("th",[t._v("折扣")]),a("th",[t._v("到期日")]),a("th",[t._v("是否可使用")]),a("th",[t._v("編輯")]),a("th",[t._v("刪除")])])])}],se={methods:{getcoupons:function(t){this.$store.dispatch("getCoupons",t)},openModal:function(t,e,a,s){this.$store.dispatch("openModal",{modal:t,species:e,status:a,item:s})}},created:function(){this.getcoupons()},computed:{coupons:function(){return this.$store.state.coupons}},components:{Pagination:X,Modal:Bt}},ie=se,oe=Object(C["a"])(ie,ee,ae,!1,null,null,null),re=oe.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"special"},[t._v("本日精選")]),a("i",{staticClass:"far fa-heart heart",on:{click:function(a){return a.preventDefault(),t.addtolike(e)}}}),a("a",{staticClass:"pointer",staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.getProductDetail(e.id)}}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-tag float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title text-left"},[a("a",{staticClass:"pointer",on:{click:function(a){return t.getProductDetail(e.id)}}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-content card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"card_price"},[a("h5",{staticClass:"card-origin_price"},[t._v("NT$ "+t._s(e.origin_price))]),a("span",{staticClass:"card-price"},[t._v("NT$ "+t._s(e.price))])])]),a("a",{staticClass:"card-footer text-center",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addtocart(e.id)}}},[t._v("加到購物車")])])])})),0),a("Pagination",{on:{updatepage:t.getProducts}})],1)},ce=[],le={methods:{getProducts:function(t){this.$store.dispatch("getProducts",t)},getProductDetail:function(t){this.$router.push("/productdetail/".concat(t))},addtocart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{product_id:t,qty:e})},addtolike:function(t){this.$store.dispatch("addtolike",t)}},created:function(){this.getProducts()},computed:{products:function(){return this.$store.state.products}},components:{Pagination:X}},de=le,ue=(a("2d65"),Object(C["a"])(de,ne,ce,!1,null,"2f8775dd",null)),pe=ue.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6",staticStyle:{"background-size":"contain","background-position":"center","background-repeat":"no-repeat"},style:{backgroundImage:"url("+t.productdetail.imageUrl+")"}}),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"d-flex justify-content-between",staticStyle:{margin:"20px 10px 0 10px"}},[a("div",{staticClass:"detail-title"},[t._v(t._s(t.productdetail.title))]),a("div",{staticClass:"detail-category"},[t._v(t._s(t.productdetail.category))])]),a("div",{staticClass:"detail-description"},[t._v(t._s(t.productdetail.description))]),a("hr"),a("div",{staticClass:"detail-price"},[a("span",[t._v("原價 "+t._s(t.productdetail.origin_price))]),a("span",{staticStyle:{"font-size":"20px"}},[t._v("售價 "+t._s(t.productdetail.price))])]),a("div",{staticClass:"cart-item-quantity"},[a("button",{staticClass:"minus",on:{click:function(e){return t.minus(t.qty)}}},[a("i",{staticClass:"fas fa-minus"})]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.qty,expression:"qty",modifiers:{number:!0}}],staticClass:"quantity",attrs:{type:"number"},domProps:{value:t.qty},on:{input:function(e){e.target.composing||(t.qty=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("button",{staticClass:"add",on:{click:function(e){return t.plus(t.qty)}}},[a("i",{staticClass:"fas fa-plus"})])]),a("div",{staticClass:"detail-total_price"},[t._v("小計 "+t._s(t.qty*t.productdetail.price))]),a("button",{staticClass:"btn btn-simple detail-addcart",attrs:{type:"button"},on:{click:function(e){return t.addtocart(t.productdetail.id,t.qty)}}},[t._v("加入購物車")])])])]),a("ShoppingCartIcon")],1)},ve=[],fe={data:function(){return{qty:"1"}},methods:{getProduct:function(){this.$store.dispatch("getProduct",this.$route.params.id)},addtocart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e<0&&(e=1),this.$store.dispatch("addtoCart",{product_id:t,qty:e})},plus:function(t){t++,this.qty=t},minus:function(t){t--,this.qty=t}},computed:{productdetail:function(){return this.$store.state.productdetail}},created:function(){this.getProduct()},components:{ShoppingCartIcon:lt}},he=fe,_e=(a("80d8"),Object(C["a"])(he,me,ve,!1,null,"f3baf1ae",null)),ge=_e.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"cart"},[s("div",{staticClass:"cart-block"},[s("h2",{staticClass:"cart-title"},[t._v("您的購物車")]),t._l(t.cartlist.carts,(function(e){return s("div",{key:e.id,staticClass:"cart-list"},[s("div",{staticStyle:{width:"100px",height:"100px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),s("div",{staticClass:"card-item-name"},[s("h3",[t._v(t._s(e.product.title))]),s("p",[t._v("NT$ "+t._s(e.product.price))]),e.coupon?s("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),s("div",[t._v(t._s(e.product.num)+"/"+t._s(e.product.unit))]),s("p",{staticClass:"cart-item-price"},[t._v("NT$ "+t._s(e.total))]),s("a",{staticClass:"delete",on:{click:function(a){return t.removecartitem(e.id)}}},[s("img",{attrs:{src:a("7952"),alt:""}})])])}))],2),s("div",{staticClass:"order-detail-block"},[s("div",{staticClass:"order-detail"},[s("h3",{staticClass:"order-detail-title"},[t._v("訂單摘要")]),t.cartlist.total!==t.cartlist.final_total?s("div",{staticClass:"order-detail-config"},[s("div",{staticClass:"order-detail-config-list"},[s("p",[t._v("總計")]),s("p",[t._v("NT$ "+t._s(t.cartlist.total))])])]):t._e(),t.cartlist.total!==t.cartlist.final_total?s("div",{staticClass:"order-detail-total"},[s("p",[t._v("折扣後")]),s("p",[t._v("NT$ "+t._s(t.cartlist.final_total))])]):t._e(),t.cartlist.total===t.cartlist.final_total?s("div",{staticClass:"order-detail-total"},[s("p",[t._v("總計")]),s("p",[t._v("NT$ "+t._s(t.cartlist.total))])]):t._e()]),s("div",{staticClass:"input-group mb-3 mt-3 input-group-sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.addcouponcode(t.coupon_code)}}},[t._v("套用優惠碼")])])]),t.cartlist.carts&&t.cartlist.carts.length>0?s("router-link",{staticClass:"order-detail-button",attrs:{to:"/checkout"}},[t._v("結帳")]):s("router-link",{staticClass:"order-detail-button",attrs:{to:"/"}},[t._v("購物車為空")])],1)]),s("div",{staticClass:"cart mobile-cart"},[s("div",{staticClass:"cart-block"},[s("h2",{staticClass:"cart-title"},[t._v("您的購物車")]),t._l(t.cartlist.carts,(function(e){return s("div",{key:e.id,staticClass:"cart-list"},[s("a",{staticClass:"delete",on:{click:function(a){return t.removecartitem(e.id)}}},[s("img",{attrs:{src:a("7952"),alt:""}})]),s("div",{staticStyle:{width:"100px",height:"100px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),s("div",{staticClass:"card-item-config"},[s("div",{staticClass:"card-item-name"},[s("h3",[t._v(t._s(e.product.title))]),s("p",[t._v("NT$ "+t._s(e.product.price))]),e.coupon?s("div",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()])]),s("div",[t._v(t._s(e.product.num)+"/"+t._s(e.product.unit))]),s("p",{staticClass:"cart-item-price"},[t._v("NT$ "+t._s(e.total))])])}))],2),s("div",{staticClass:"order-detail-block"},[s("div",{staticClass:"order-detail"},[s("h3",{staticClass:"order-detail-title"},[t._v("訂單摘要")]),s("div",{staticClass:"order-detail-config"},[s("div",{staticClass:"order-detail-config-list"},[s("p",[t._v("小計")]),s("p",[t._v("NT$ "+t._s(t.cartlist.total))])])]),s("div",{staticClass:"order-detail-total"},[s("p",[t._v("總計")]),s("p",[t._v("NT$ "+t._s(t.cartlist.final_total))])])]),t.cartlist.carts&&t.cartlist.carts.length>0?s("router-link",{staticClass:"order-detail-button",attrs:{to:"/checkout"}},[t._v("結帳")]):s("router-link",{staticClass:"order-detail-button",attrs:{to:"/"}},[t._v("購物車為空")])],1)])])},Ce=[],xe={data:function(){return{coupon_code:""}},methods:{getCarts:function(){this.$store.dispatch("getCarts")},removecartitem:function(t){this.$store.dispatch("removecartitem",t)},addcouponcode:function(t){var e={code:t};this.$store.dispatch("addcouponcode",{data:e})}},created:function(){this.getCarts()},computed:{cartlist:function(){return this.$store.state.cartlist}}},ye=xe,ke=Object(C["a"])(ye,be,Ce,!1,null,null,null),$e=ke.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"check-1",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"receive-info"},[t._m(0),a("div",{staticClass:"info"},[a("div",{staticClass:"info-first"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.user.name.name_first,expression:"orderdetailform.user.name.name_first"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control info-input-col2",class:{"is-invalid":t.errors.has("name_first")},attrs:{type:"text",name:"name_first",id:"username",placeholder:"輸入姓氏"},domProps:{value:t.orderdetailform.user.name.name_first},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform.user.name,"name_first",e.target.value)}}}),t.errors.has("name_first")?a("span",{staticClass:"text-danger"},[t._v("姓氏必須輸入")]):t._e()]),a("div",{staticClass:"info-last"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.user.name.name_last,expression:"orderdetailform.user.name.name_last"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control info-input-col2",class:{"is-invalid":t.errors.has("name_last")},attrs:{type:"text",name:"name_last",id:"username",placeholder:"輸入名字"},domProps:{value:t.orderdetailform.user.name.name_last},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform.user.name,"name_last",e.target.value)}}}),t.errors.has("name_last")?a("span",{staticClass:"text-danger"},[t._v("名字必須輸入")]):t._e()])]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-all"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.user.tel,expression:"orderdetailform.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control info-input-col1",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.orderdetailform.user.tel},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform.user,"tel",e.target.value)}}}),t.errors.has("tel")?a("span",{staticClass:"text-danger"},[t._v("電話欄位不得留空")]):t._e()])]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-all"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.user.email,expression:"orderdetailform.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control info-input-col1",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.orderdetailform.user.email},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])])]),a("div",{staticClass:"info"},[a("div",{staticClass:"info-all"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.user.address,expression:"orderdetailform.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control info-input-col1",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.orderdetailform.user.address},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform.user,"address",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()])]),a("div",{staticClass:"info info-all-bottom"},[a("div",{staticClass:"info-all"},[t._m(6),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.orderdetailform.message,expression:"orderdetailform.message"}],staticClass:"form-control",staticStyle:{"background-color":"#EAF0ED"},attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.orderdetailform.message},on:{input:function(e){e.target.composing||t.$set(t.orderdetailform,"message",e.target.value)}}})])]),a("button",{staticClass:"enter"},[t._v("送出訂單")])]),a("div",{staticClass:"order-detail-block"},[a("div",{staticClass:"order-detail"},[a("h3",{staticClass:"order-detail-title"},[t._v("訂單摘要")]),t.cartlist.total!==t.cartlist.final_total?a("div",{staticClass:"order-detail-config"},[a("div",{staticClass:"order-detail-config-list"},[a("p",[t._v("總計")]),a("p",[t._v("NT$ "+t._s(t.cartlist.total))])])]):t._e(),t.cartlist.total!==t.cartlist.final_total?a("div",{staticClass:"order-detail-total"},[a("p",[t._v("折扣後")]),a("p",[t._v("NT$ "+t._s(t.cartlist.final_total))])]):t._e(),t.cartlist.total===t.cartlist.final_total?a("div",{staticClass:"order-detail-total"},[a("p",[t._v("總計")]),a("p",[t._v("NT$ "+t._s(t.cartlist.total))])]):t._e()]),a("div",{staticClass:"cart-detail"},[a("h3",{staticClass:"cart-detail-title"},[t._v("購物清單")]),a("div",{staticClass:"cart-list-config"},t._l(t.cartlist.carts,(function(e){return a("div",{key:e.id,staticClass:"cart-list"},[a("div",{staticClass:"card-item-img",staticStyle:{"background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),a("div",{staticClass:"card-item-name"},[a("h3",{staticClass:"mb-2"},[t._v(t._s(e.product.title))]),a("p",{staticClass:"mb-2"},[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),e.coupon?a("p",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),a("div",{staticClass:"cart-item-price"},[a("p",{staticClass:"mb-2"},[t._v("NT$")]),a("p",{staticClass:"mb-2"},[t._v(t._s(e.final_total))])])])})),0)])])])])])},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"receive-info-title"},[a("h2",[t._v("訂單資訊")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"username"}},[a("p",[t._v("姓氏")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"username"}},[a("p",[t._v("名字")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"usertel"}},[a("p",[t._v("電話")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"useremail"}},[a("p",[t._v("Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"useraddress"}},[a("p",[t._v("地址")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"useraddress"}},[a("p",[t._v("留言(選填)")])])}],Oe={methods:{createOrder:function(){var t=this;this.$validator.validate().then((function(e){t.$store.dispatch("updateLoading",!0),e?(t.$store.dispatch("createOrder",t.orderdetailform),t.$store.state.temporderid&&t.$router.push("/payorder/".concat(t.$store.state.temporderid))):(console.log("欄位信息不完整"),t.$store.dispatch("updateLoading",!1),t.$router.push("/checkout"))}))},getCarts:function(){this.$store.dispatch("getCarts")}},created:function(){this.getCarts()},computed:{orderdetailform:{get:function(){return this.$store.state.orderdetailform}},orderId:{get:function(){return this.$store.state.temporderid}},cartlist:function(){return this.$store.state.cartlist}}},Ee=Oe,Ae=(a("7134"),Object(C["a"])(Ee,we,Ne,!1,null,"796cbe6d",null)),Pe=Ae.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"cart"},[a("div",{staticClass:"cart-block"},[a("h2",{staticClass:"cart-title"},[t._v("購買資訊")]),t._l(t.orderdetail.products,(function(e){return a("div",{key:e.id,staticClass:"cart-list"},[a("div",{staticClass:"card-item-img",staticStyle:{"background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),a("div",{staticClass:"card-item-name"},[a("h3",{staticClass:"mb-2"},[t._v(t._s(e.product.title))]),a("p",{staticClass:"mb-2"},[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),e.coupon?a("p",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()]),a("div",{staticClass:"card-item-price"},[a("p",{staticClass:"mb-2"},[t._v("NT$ "+t._s(e.final_total))])])])})),a("div",{staticClass:"card-total"},[t._v("總計 : NT$ "+t._s(t.orderdetail.total))]),a("h2",{staticClass:"cart-title"},[t._v("個人資訊")]),a("table",{staticClass:"table table-striped"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("姓名")]),a("td",[t._v(t._s(t.orderdetail.user.name))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("電話")]),a("td",[t._v(t._s(t.orderdetail.user.tel))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Email")]),a("td",[t._v(t._s(t.orderdetail.user.email))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("地址")]),a("td",[t._v(t._s(t.orderdetail.user.address))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("付款狀態")]),a("td",[!1===t.orderdetail.is_paid?a("button",{staticClass:"btn btn-danger",on:{click:t.payorder}},[t._v("確認付款去")]):t._e(),!0===t.orderdetail.is_paid?a("button",{staticClass:"btn btn-success"},[t._v("完成付款")]):t._e()])])])]),a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},on:{click:t.backtoshop}},[t._v("繼續購物")])],2)]),a("div",{staticClass:"cart mobile-cart"},[a("div",{staticClass:"cart-block"},[a("h2",{staticClass:"cart-title"},[t._v("購買資訊")]),t._l(t.orderdetail.products,(function(e){return a("div",{key:e.id,staticClass:"cart-list"},[a("div",{staticClass:"card-item-img",staticStyle:{"background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.product.imageUrl+")"}}),a("div",{staticClass:"card-item-name"},[a("h3",{staticClass:"mb-2"},[t._v(t._s(e.product.title))]),a("p",{staticClass:"mb-2"},[t._v(t._s(e.qty)+" / "+t._s(e.product.unit))]),a("p",{staticClass:"mb-2 card-item-price"},[t._v("NT$ "+t._s(e.final_total))]),e.coupon?a("p",{staticClass:"text-success"},[t._v("已套用優惠券")]):t._e()])])})),a("div",{staticClass:"card-total"},[t._v("總計 : NT$ "+t._s(t.orderdetail.total))]),a("h2",{staticClass:"cart-title"},[t._v("個人資訊")]),a("table",{staticClass:"table table-striped"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("姓名")]),a("td",[t._v(t._s(t.orderdetail.user.name))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("電話")]),a("td",[t._v(t._s(t.orderdetail.user.tel))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Email")]),a("td",[t._v(t._s(t.orderdetail.user.email))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("地址")]),a("td",[t._v(t._s(t.orderdetail.user.address))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("付款狀態")]),a("td",[!1===t.orderdetail.is_paid?a("button",{staticClass:"btn btn-danger",on:{click:t.payorder}},[t._v("確認付款去")]):t._e(),!0===t.orderdetail.is_paid?a("button",{staticClass:"btn btn-success"},[t._v("完成付款")]):t._e()])])])]),a("button",{staticClass:"btn btn-primary",staticStyle:{float:"right"},on:{click:t.backtoshop}},[t._v("繼續購物")])],2)])])},Ie=[],Le={data:function(){return{orderId:""}},methods:{getorder:function(){this.$store.dispatch("getOrder",this.orderId)},payorder:function(){this.$store.dispatch("payOrder",this.orderId)},backtoshop:function(){this.$router.push("/")}},created:function(){this.orderId=this.$route.params.orderId,this.getorder()},computed:{orderdetail:{get:function(){return this.$store.state.orderdetail}}}},Me=Le,Te=(a("8f81"),Object(C["a"])(Me,De,Ie,!1,null,"a4dfc9e8",null)),Se=Te.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},t._l(t.favoriteproducts,(function(e){return a("div",{key:e.id,staticClass:"col-md-6 mb-4"},[a("div",{staticClass:"card"},[a("i",{staticClass:"fas fa-heart heart",on:{click:function(a){return a.preventDefault(),t.dellike(e)}}}),a("a",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(a){return t.getProductDetail(e.id)}}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-tag float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title text-left"},[a("a",{on:{click:function(a){return t.getProductDetail(e.id)}}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-content card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"card_price"},[a("h5",{staticClass:"card-origin_price"},[t._v("NT$ "+t._s(e.origin_price))]),a("span",{staticClass:"card-price"},[t._v("NT$ "+t._s(e.price))])])]),a("a",{staticClass:"card-footer",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addtocart(e.id)}}},[t._v("加到購物車")])])])})),0)])},qe=[],Ge={methods:{getProductDetail:function(t){this.$router.push("/productdetail/".concat(t))},addtocart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{product_id:t,qty:e})},dellike:function(t){this.$store.dispatch("dellike",t)}},computed:{favoriteproducts:function(){return this.$store.state.favoritelist}}},je=Ge,Ue=(a("caf5"),Object(C["a"])(je,Re,qe,!1,null,null,null)),Fe=Ue.exports;s["a"].use(I["a"]);var ze=new I["a"]({routes:[{path:"*",redirect:"/products"},{path:"/products",name:"home",component:mt,children:[{path:"/",name:"products",component:Z},{path:"favorite",name:"favorite",component:Fe}]},{path:"/news",name:"news",component:wt},{path:"/login",name:"login",component:bt},{path:"/admin",name:"admin",component:St,meta:{requiresAuth:!0},children:[{path:"productlist",name:"productlist",component:Wt,meta:{requiresAuth:!0}},{path:"orderlist",name:"orderlist",component:te,meta:{requiresAuth:!0}},{path:"couponlist",name:"couponlist",component:re,meta:{requiresAuth:!0}},{path:"ordertest",name:"ordertest",component:pe,meta:{requiresAuth:!0}}]},{path:"/productdetail/:id",name:"productdetail",component:ge},{path:"/shoppingcart",name:"shoppingcart",component:$e},{path:"/checkout",name:"checkout",component:Pe},{path:"/payorder/:orderId",name:"payorder",component:Se}]}),Be=(a("1c4c"),a("ac6a"),a("5df3"),a("4f7f"),a("20d6"),a("7f7f"),a("1157")),Je=a.n(Be);s["a"].use(i["a"]),s["a"].use(c.a,r.a);var Ve=new i["a"].Store({state:{isLoading:!1,pagination:{},products:[],searchText:"",categories:[],productdetail:{},adminproducts:[],tempproduct:{},isfileuploading:!1,adminorders:[],orderdetail:{user:{}},orderdetailform:{user:{name:{name_first:"",name_last:""},email:"",tel:"",address:""},message:""},temporderid:"",coupons:[],tempcoupon:{},banners:[],tempbanner:{},isNew:"",cartlist:{},errormessage:!1,favoritelist:JSON.parse(localStorage.getItem("items"))||[]},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},openModal:function(t,e){"product"===e.species?t.commit("TEMPPRODUCT",e.item):"order"===e.species?t.commit("ORDERDETAIL",e.item):"coupon"===e.species?t.commit("TEMPCOUPON",e.item):"banner"===e.species&&t.commit("TEMPBANNER",e.item),t.commit("MODAL",e.status),Je()("".concat(e.modal)).modal("show")},getProducts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/products?page=").concat(e);t.commit("LOADING",!0),r.a.get(a).then((function(e){console.log("取得產品列表",e),e.data.success?(t.commit("PRODUCTS",e.data.products),t.commit("CATEGORIES",e.data.products),t.commit("PAGINATION",e.data.pagination),t.commit("LOADING",!1)):t.commit("LOADING",!1)}))},getProduct:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/product/").concat(e);t.commit("LOADING",!0),r.a.get(a).then((function(e){console.log("取得特定產品",e),t.commit("PRODUCTDETAIL",e.data.product),t.commit("LOADING",!1)}))},searchText:function(t,e){t.commit("SEARCHTEXT",e)},getCarts:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/cart");t.commit("LOADING",!0),r.a.get(e).then((function(e){console.log("取得購物車列表",e),e.data.success&&(t.commit("Carts",e.data.data),t.commit("LOADING",!1))}))},addtoCart:function(t,e){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/cart");r.a.post(s,{data:e}).then((function(t){console.log("加入購物車",t),a.dispatch("getCarts")}))},removecartitem:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/cart/").concat(e),s=this;t.commit("LOADING",!0),r.a.delete(a).then((function(e){console.log("刪除購物車商品",e),s.dispatch("getCarts"),t.commit("LOADING",!1)}))},addcouponcode:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/coupon"),s=this;t.commit("LOADING",!0),r.a.post(a,e).then((function(e){console.log("套用優惠券",e),e.data.success?(s.dispatch("getCarts"),t.commit("LOADING",!1)):t.commit("LOADING",!1)}))},createOrder:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/order"),s={user:{name:"".concat(e.user.name.name_first+e.user.name.name_last),email:"".concat(e.user.email),tel:"".concat(e.user.tel),address:"".concat(e.user.address)},message:"".concat(e.message)};t.commit("LOADING",!0),r.a.post(a,{data:s}).then((function(e){e.data.success?(console.log("訂單已建立",e),t.commit("ORDERID",e.data.orderId),t.commit("CLEANORDERFORM"),t.commit("LOADING",!1)):(t.commit("CLEANORDERFORM"),t.commit("LOADING",!1))}))},getOrder:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/order/").concat(e);t.commit("LOADING",!0),r.a.get(a).then((function(e){console.log("取得特定訂單",e),e.data.success?(t.commit("ORDERDETAIL",e.data.order),t.commit("LOADING",!1)):(console.log("取得訂單失敗"),t.commit("LOADING",!1))}))},payOrder:function(t,e){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/pay/").concat(e);r.a.post(s).then((function(t){t.data.success?a.dispatch("getOrder",e):console.log("付款失敗")}))},addtolike:function(t,e){this.state.favoritelist.findIndex((function(t){return t===e}))<0?t.commit("ADDFAVORITE",e):console.log("已加入星號")},dellike:function(t,e){t.commit("DELFAVORITE",e)},getAdminProducts:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/products?page=").concat(a);r.a.get(s).then((function(a){console.log("取得管理產品列表",a),a.data.success?(t.commit("ADMINPRODUCTS",a.data.products),t.commit("PAGINATION",a.data.pagination),t.commit("LOADING",!1)):(t.commit("LOADING",!1),"驗證錯誤, 請重新登入"===a.data.message&&e.dispatch("updateerror",!0))}))},updateProducts:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/product"),s="post",i=this;"Edit"===i.state.isNew?(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/product/").concat(i.state.tempproduct.id),s="put"):"Del"===i.state.isNew&&(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/product/").concat(i.state.tempproduct.id),s="delete"),i.commit("LOADING",!0),r.a[s](a,{data:this.state.tempproduct}).then((function(t){t.data.success?(Je()("".concat(e)).modal("hide"),i.dispatch("getAdminProducts"),i.commit("LOADING",!1)):(Je()("".concat(e)).modal("hide"),i.dispatch("getAdminProducts"),"New"===i.state.isNew?console.log("添加產品失敗"):"Edit"===i.state.isNew?console.log("修改產品失敗"):console.log("刪除產品失敗"),i.commit("LOADING",!1))}))},updatefileloading:function(t,e){t.commit("FILELOADING",e)},getAdminOrders:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/orders?page=").concat(e);t.commit("LOADING",!0),r.a.get(a).then((function(e){console.log("取得訂單列表",e),e.data.success?(t.commit("ADMINORDERS",e.data.orders),t.commit("PAGINATION",e.data.pagination),t.commit("LOADING",!1)):t.commit("LOADING",!1)}))},getCoupons:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/coupons?page=").concat(e);t.commit("LOADING",!0),r.a.get(a).then((function(e){console.log("取得優惠券列表",e),e.data.success&&(t.commit("COUPONS",e.data.coupons),t.commit("PAGINATION",e.data.pagination),t.commit("LOADING",!1))}))},updateCoupons:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/coupon"),s="post",i=this;"Edit"===i.state.isNew?(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/coupon/").concat(i.state.tempcoupon.id),s="put"):"Del"===i.state.isNew&&(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/coupon/").concat(i.state.tempcoupon.id),s="delete"),i.commit("LOADING",!0),r.a[s](a,{data:this.state.tempcoupon}).then((function(t){t.data.success?(Je()("".concat(e)).modal("hide"),i.dispatch("getCoupons"),i.commit("LOADING",!1)):(Je()("".concat(e)).modal("hide"),i.dispatch("getCoupons"),"New"===i.state.isNew?console.log("添加產品失敗"):"Edit"===i.state.isNew?console.log("修改產品失敗"):console.log("刪除產品失敗"),i.commit("LOADING",!1))}))},addBanners:function(t,e){t.commit("BANNERS"),Je()("".concat(e)).modal("hide")},delBanners:function(t,e){t.commit("DELBANNER"),Je()("".concat(e)).modal("hide")},updateerror:function(t,e){t.commit("ERRORMESSAGE",e)},uploadfile:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("neilworld","/admin/upload"),s=new FormData;s.append("file-to-upload",e),t.commit("FILELOADING",!0),r.a.post(a,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("上傳圖片",e),e.data.success?(t.commit("TEMPPRODUCTIMAGE",e.data.imageUrl),t.commit("TEMPBANNERIMAGE",e.data.imageUrl),t.commit("FILELOADING",!1)):t.commit("FILELOADING",!1)}))}},mutations:{LOADING:function(t,e){t.isLoading=e},PAGINATION:function(t,e){t.pagination=e},MODAL:function(t,e){t.isNew=e},PRODUCTS:function(t,e){t.products=e},SEARCHTEXT:function(t,e){t.searchText=e},CATEGORIES:function(t,e){var a=new Set;e.forEach((function(t){a.add(t.category)})),t.categories=Array.from(a)},PRODUCTDETAIL:function(t,e){t.productdetail=e},Carts:function(t,e){t.cartlist=e},ORDERID:function(t,e){t.temporderid=e},CLEANORDERFORM:function(t){t.orderdetailform={user:{name:{name_first:"",name_last:""},email:"",tel:"",address:""},message:""}},ADMINPRODUCTS:function(t,e){t.adminproducts=e},TEMPPRODUCT:function(t,e){t.tempproduct=Object.assign({},e)},TEMPPRODUCTIMAGE:function(t,e){t.tempproduct.imageUrl=e},FILELOADING:function(t,e){t.isfileuploading=e},ADMINORDERS:function(t,e){t.adminorders=e},ORDERDETAIL:function(t,e){t.orderdetail=Object.assign({},e)},COUPONS:function(t,e){t.coupons=e},TEMPCOUPON:function(t,e){t.tempcoupon=Object.assign({},e)},BANNERS:function(t,e){t.banners.push(t.tempbanner)},TEMPBANNER:function(t,e){t.tempbanner=Object.assign({},e)},TEMPBANNERIMAGE:function(t,e){t.tempbanner.imageUrl=e},DELBANNER:function(t){var e=t.banners.findIndex((function(e){return e.imageUrl===t.tempbanner.imageUrl}));t.banners.splice(e,1)},ERRORMESSAGE:function(t,e){t.errormessage=e},ADDFAVORITE:function(t,e){t.favoritelist.push(e),localStorage.setItem("items",JSON.stringify(t.favoritelist))},DELFAVORITE:function(t,e){var a=t.favoritelist.findIndex((function(t){return t.id===e.id}));t.favoritelist.splice(a,1),localStorage.setItem("items",JSON.stringify(t.favoritelist))}}}),He=(a("a481"),a("c5f6"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var s=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))});s["a"].use(c.a,r.a),s["a"].use(i["a"]),s["a"].use(l["a"]),l["a"].Validator.localize("TW",u.a),s["a"].component("Loading",m.a),s["a"].filter("currency",He),s["a"].config.productionTip=!1,r.a.defaults.withCredentials=!0,new s["a"]({router:ze,store:Ve,render:function(t){return t(D)}}).$mount("#app"),ze.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(s).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},"57c6":function(t,e,a){},"5a33":function(t,e,a){t.exports=a.p+"img/alex-siale-95113-unsplash.03642578.jpg"},"5c0b":function(t,e,a){"use strict";var s=a("e332"),i=a.n(s);i.a},"5cb5":function(t,e,a){},"5eaf":function(t,e,a){"use strict";var s=a("5cb5"),i=a.n(s);i.a},7134:function(t,e,a){"use strict";var s=a("ede2"),i=a.n(s);i.a},"71c5":function(t,e,a){"use strict";var s=a("9657"),i=a.n(s);i.a},7952:function(t,e,a){t.exports=a.p+"img/baseline-delete_outline-24px.89c38b3c.svg"},"80d8":function(t,e,a){"use strict";var s=a("dc7e"),i=a.n(s);i.a},"8a49":function(t,e,a){t.exports=a.p+"img/baseline-person-24px.646cd1c7.svg"},"8db5":function(t,e,a){t.exports=a.p+"img/baseline-shopping_cart-24px.aabcfaf3.svg"},"8f81":function(t,e,a){"use strict";var s=a("25b0"),i=a.n(s);i.a},9657:function(t,e,a){},"9a09":function(t,e,a){},b698:function(t,e,a){},b82e:function(t,e,a){"use strict";var s=a("9a09"),i=a.n(s);i.a},baf8:function(t,e,a){t.exports=a.p+"img/baseline-home-24px.ab2c77b7.svg"},bb20:function(t,e,a){t.exports=a.p+"img/if_icon-arrow-right-b_211620.8e6dd05f.svg"},bc63:function(t,e,a){},c383:function(t,e,a){"use strict";var s=a("57c6"),i=a.n(s);i.a},caf5:function(t,e,a){"use strict";var s=a("3ad6"),i=a.n(s);i.a},d725:function(t,e,a){t.exports=a.p+"img/levin-zhao-1216605-unsplash.7cc3c4b8.jpg"},d7ae:function(t,e,a){"use strict";var s=a("3309"),i=a.n(s);i.a},d851:function(t,e,a){t.exports=a.p+"img/if_icon-arrow-left-b_211617.deb9edc7.svg"},dbdc:function(t,e,a){"use strict";var s=a("5287"),i=a.n(s);i.a},dc7e:function(t,e,a){},e332:function(t,e,a){},e528:function(t,e,a){"use strict";var s=a("b698"),i=a.n(s);i.a},edb1:function(t,e,a){t.exports=a.p+"img/baseline-list_alt-24px.23a32b27.svg"},ede2:function(t,e,a){},f731:function(t,e,a){t.exports=a.p+"img/dxl-1220129-unsplash.fc652003.jpg"}});
//# sourceMappingURL=app.7947c747.js.map